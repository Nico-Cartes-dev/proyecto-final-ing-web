{% load static %}
<!DOCTYPE html>
<html lang="es" data-bs-theme="dark">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="{% static "core/css/style.css" %}">
	<link rel="icon" type="image/x-icon" href="{% static 'core/img/preview_2.png' %}">
	<link rel="stylesheet" href="{% static 'core/css/anim_boleta.css' %}">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<title>Carrito de compras</title>
</head>
<body>
	{% include "./navegacion.html" %}

	<hr>
	
	<h1 id="textoCarritoCompras" class="text-center">Carrito de compras</h1>

	<br>

	<div id="sinItemsEnCarrito" class="text-center" style="display: none;">
		<h1>No hay ítems en el carrito de compras</h1>
		<a href="{% url 'index' %}"><h2>Deberías comprar algunos aquí</h2></a>
	</div>

	<table id="tablaCarritoCompras" class="table table-dark table-striped">
		<thead class="sticky-top">
			<tr>
				<th></th>
				<th>Nombre</th>
				<th>Categoría</th>
				<th>Precio</th>
				<th>Precio Arriendo</th>
				<th>% Oferta</th>
				<th>% Dscto. total</th>
				<th>Cantidad</th>
				<th>Precio final</th>
				<th>Acciones</th>
			</tr>
		</thead>
		<tbody></tbody>
	</table>

	<br>

	<div class="d-flex align-items-center justify-content-center">
		<table id="tablaContenedorDatosTributarios" class="table table-dark table-striped w-50">
			<thead>
				<tr>
					<th>Precio sin IVA</th>
					<th>IVA (%)</th>
					<th>Total a pagar</th>
				</tr>
			</thead>
		</table>
	</div>

	<br>

	<div id="contenedorBotones" class="text-center" style="display: none;">
		<button id="btnLimpiarCarrito" class="btn btn-outline-danger mx-2" type="button">Vaciar carrito</button>
		{% if not request.session.logeado %}
			<span class="d-inline-block" tabindex="0" data-bs-toggle="tooltip" data-bs-html="true" data-bs-custom-class="custom-tooltip" data-bs-title="<b class='text-danger-emphasis'>Necesitas iniciar sesión para hacer esto.</b>">
				<button id="btnConfirmarCompra" type="button" class="btn btn-outline-success mx-2" disabled>Confirmar Arriendo</button>
			</span>
		{% else %}
			<button  type="button" class="btn btn-outline-success mx-2" onclick="location.href='{% url 'formulario_arriendo' %}'">Confirmar Arriendo</button>
		{% endif %}
	</div>

	<hr>
	
	{% include "./footer.html" %}

	<script src="{% static 'core/js/carrito_compras.js' %}" type="module"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<script type="module">
		import { limpiarCarrito } from "{% static 'core/js/carrito_compras.js' %}"
	</script>

</body>
</html>